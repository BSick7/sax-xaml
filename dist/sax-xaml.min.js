var sax;!function(a){!function(a){a.version="0.1.0"}(a.xaml||(a.xaml={}));a.xaml}(sax||(sax={}));var sax;!function(a){!function(a){a.DEFAULT_XMLNS="http://schemas.wsick.com/fayde",a.DEFAULT_XMLNS_X="http://schemas.wsick.com/fayde/x";var b="http://www.w3.org/1999/xhtml",c="parsererror",d=function(){function d(){this.$$onEnd=null,this.$$objectStack=[],this.extension=this.createExtensionParser(),this.setNamespaces(a.DEFAULT_XMLNS,a.DEFAULT_XMLNS_X)}return d.prototype.setNamespaces=function(a,b){return this.$$defaultXmlns=a,this.$$xXmlns=b,this.extension.setNamespaces(a,b),this},d.prototype.createExtensionParser=function(){return new a.extensions.ExtensionParser},d.prototype.parse=function(a){return this.$$ensure(),this.$$handleElement(a,!0),this.$$destroy(),this},d.prototype.$$handleElement=function(a,b){var c=a.localName,d=a.namespaceURI;if(!this.$$tryHandleError(a,d,c)&&!this.$$tryHandlePropertyTag(a,d,c)){var e=this.$$onResolveType(d,c),f=this.$$onResolveObject(e);this.$$objectStack.push(f),b?this.$$onContentObject(f):this.$$onObject(f);for(var g=0,h=a.attributes,i=h.length;i>g;g++)this.$$processAttribute(h[g]);for(var j=a.firstElementChild,k=!!j;j;)this.$$handleElement(j,!0),j=j.nextElementSibling;if(!k){var l=a.textContent;l&&this.$$onContentText(l.trim())}this.$$objectStack.pop(),this.$$onObjectEnd(f)}},d.prototype.$$tryHandleError=function(a,d,e){return d!==b||e!==c?!1:(this.$$onError(new Error(a.textContent)),!0)},d.prototype.$$tryHandlePropertyTag=function(a,b,c){var d=c.indexOf(".");if(0>d)return!1;var e=this.$$onResolveType(b,c.substr(0,d));c=c.substr(d+1),this.$$onPropertyStart(e,c);for(var f=a.firstElementChild;f;)this.$$handleElement(f,!1),f=f.nextElementSibling;return this.$$onPropertyEnd(e,c),!0},d.prototype.$$processAttribute=function(a){var b=a.prefix,c=a.localName;if(this.$$shouldSkipAttr(b,c))return!0;var d=a.namespaceURI,e=a.value;return this.$$tryHandleXAttribute(d,c,e)?!0:this.$$handleAttribute(d,c,e,a)},d.prototype.$$shouldSkipAttr=function(a,b){return"xmlns"===a?!0:!a&&"xmlns"===b},d.prototype.$$tryHandleXAttribute=function(a,b,c){return a!==this.$$xXmlns?!1:("Name"===b&&this.$$onName(c),"Key"===b&&this.$$onKey(c),!0)},d.prototype.$$handleAttribute=function(a,b,c,d){var e=null,b=b,f=b.indexOf(".");f>-1&&(e=this.$$onResolveType(a,b.substr(0,f)),b=b.substr(f+1)),this.$$onPropertyStart(e,b);var g=this.$$getAttrValue(c,d);return this.$$onObject(g),this.$$onObjectEnd(g),this.$$onPropertyEnd(e,b),!0},d.prototype.$$getAttrValue=function(a,b){return"{"!==a[0]?a:this.extension.parse(a,b,this.$$objectStack)},d.prototype.$$ensure=function(){this.onResolveType(this.$$onResolveType).onResolveObject(this.$$onResolveObject).onObject(this.$$onObject).onObjectEnd(this.$$onObjectEnd).onContentObject(this.$$onContentObject).onContentText(this.$$onContentText).onName(this.$$onName).onKey(this.$$onKey).onPropertyStart(this.$$onPropertyStart).onPropertyEnd(this.$$onPropertyEnd).onError(this.$$onError),this.extension.onResolveType(this.$$onResolveType).onResolveObject(this.$$onResolveObject)},d.prototype.onResolveType=function(a){return this.$$onResolveType=a||function(){return Object},this},d.prototype.onResolveObject=function(a){return this.$$onResolveObject=a||function(a){return new a},this},d.prototype.onObject=function(a){return this.$$onObject=a||function(){},this},d.prototype.onObjectEnd=function(a){return this.$$onObjectEnd=a||function(){},this},d.prototype.onContentObject=function(a){return this.$$onContentObject=a||function(){},this},d.prototype.onContentText=function(a){return this.$$onContentText=a||function(){},this},d.prototype.onName=function(a){return this.$$onName=a||function(){},this},d.prototype.onKey=function(a){return this.$$onKey=a||function(){},this},d.prototype.onPropertyStart=function(a){return this.$$onPropertyStart=a||function(){},this},d.prototype.onPropertyEnd=function(a){return this.$$onPropertyEnd=a||function(){},this},d.prototype.onError=function(a){return this.$$onError=a||function(){return!0},this},d.prototype.onEnd=function(a){return this.$$onEnd=a,this},d.prototype.$$destroy=function(){this.$$onEnd&&this.$$onEnd()},d}();a.Parser=d}(a.xaml||(a.xaml={}));a.xaml}(sax||(sax={}));var sax;!function(a){!function(a){!function(b){var c=function(){function b(){this.$$defaultXmlns="http://schemas.wsick.com/fayde",this.$$xXmlns="http://schemas.wsick.com/fayde/x",this.$$onEnd=null}return b.prototype.setNamespaces=function(a,b){this.$$defaultXmlns=a,this.$$xXmlns=b},b.prototype.parse=function(a,b,c){this.$$ensure();var d={text:a,i:1,acc:"",error:"",resolver:b},e=this.$$doParse(d,c);return d.error&&this.$$onError(d.error),this.$$destroy(),e},b.prototype.$$doParse=function(a,b){if(!this.$$parseName(a))return void 0;if(!this.$$startExtension(a,b))return void 0;for(;a.i<a.text.length&&this.$$parseKeyValue(a,b)&&"}"!==a.text[a.i];);return b.pop()},b.prototype.$$parseName=function(a){var b=a.text.indexOf(" ",a.i);return b>a.i?(a.acc=a.text.substr(a.i,b-a.i),a.i=b+1,!0):(b=a.text.indexOf("}",a.i),b>a.i?(a.acc=a.text.substr(a.i,b-a.i),a.i=b,!0):(a.error="Missing closing bracket.",!1))},b.prototype.$$startExtension=function(b,c){var d=b.acc,e=d.indexOf(":"),f=0>e?null:d.substr(0,e),g=0>e?d:d.substr(e+1),h=f?b.resolver.lookupNamespaceURI(f):a.DEFAULT_XMLNS;if(h===this.$$xXmlns){var i=b.text.substr(b.i,b.text.length-b.i-1);return b.i=b.text.length,this.$$parseXExt(b,c,g,i)}var j=this.$$onResolveType(h,g),k=this.$$onResolveObject(j);return c.push(k),!0},b.prototype.$$parseXExt=function(a,b,c,d){if("Null"===c)return b.push(null),!0;if("Type"===c){var e=d.indexOf(":"),f=0>e?null:d.substr(0,e),c=0>e?d:d.substr(e+1),g=a.resolver.lookupNamespaceURI(f),h=this.$$onResolveType(g,c);return b.push(h),!0}if("Static"===c){var i=new Function("return ("+d+");");return b.push(i()),!0}return!0},b.prototype.$$parseKeyValue=function(a,b){var c=a.text;a.acc="";for(var d="",e=void 0;a.i<c.length;a.i++){var f=c[a.i];if("\\"===f)a.i++,a.acc+=c[a.i];else if("{"===f){if(!d)return a.error="A sub extension must be set to a key.",!1;if(a.i++,e=this.$$doParse(a,b),a.error)return!1}else if("="===f)d=a.acc,a.acc="";else{if("}"===f)return this.$$finishKeyValue(a.acc,d,e,b),!0;if(","===f)return a.i++,this.$$finishKeyValue(a.acc,d,e,b),!0;a.acc+=f}}},b.prototype.$$finishKeyValue=function(a,b,c,d){if(void 0!==c||(c=a.trim())){"function"==typeof c.transmute&&(c=c.transmute(d));var e=d[d.length-1];b?e[b]=c:e.init&&e.init(c)}},b.prototype.$$ensure=function(){this.onResolveType(this.$$onResolveType).onResolveObject(this.$$onResolveObject).onError(this.$$onError)},b.prototype.onResolveType=function(a){return this.$$onResolveType=a||function(){return Object},this},b.prototype.onResolveObject=function(a){return this.$$onResolveObject=a||function(a){return new a},this},b.prototype.onError=function(a){return this.$$onError=a||function(){},this},b.prototype.onEnd=function(a){return this.$$onEnd=a,this},b.prototype.$$destroy=function(){this.$$onEnd&&this.$$onEnd()},b}();b.ExtensionParser=c}(a.extensions||(a.extensions={}));a.extensions}(a.xaml||(a.xaml={}));a.xaml}(sax||(sax={}));
//# sourceMappingURL=sax-xaml.min.js.map